---
import "../styles/global.css";
import DarkMode from "../components/DarkMode.astro";
import Search from "astro-pagefind/components/Search";

const { title } = Astro.props;
const { pathname } = Astro.url;
---

<!doctype html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <style>
      html {
        --pagefind-ui-scale: 0.8;
        --pagefind-ui-primary: var(--color-rose-500);
        --pagefind-ui-text: var(--color-gray-600);
        --pagefind-ui-background: var(--color-gray-100);
        --pagefind-ui-border: var(--color-gray-50);
        --pagefind-ui-tag: var(--color-gray-600);
        --pagefind-ui-border-width: 1px;
        --pagefind-ui-border-radius: var(--radius-lg);
        --pagefind-ui-image-border-radius: var(--radius-md);
        --pagefind-ui-image-box-ratio: 3 / 2;
        --pagefind-ui-font: sans-serif;
      }
      html.dark {
        --pagefind-ui-text: var(--color-gray-100);
        --pagefind-ui-background: var(--color-gray-950);
        --pagefind-ui-border: var(--color-gray-600);
        --pagefind-ui-tag: var(--color-gray-200);
      }
    </style>
  </head>
  <body class="dark:bg-gray-900 bg-gray-50 h-full">
    <div class="flex flex-col xl:flex-row gap-4 xl:h-screen">
      <div class="flex flex-col w-full xl:w-1/4 xl:h-screen">
        <div class="flex flex-col gap-4 mr-4 p-4">
          <div>
            <div
              class="text-5xl text-gray-500 dark:text-gray-300 hover:text-rose-500 transition-colors font-light mb-4"
              data-pagefind-ignore
            >
              <a href="/">Alexys Hegmann</a>
            </div>
          </div>
          <span
            class="text-2xl text-gray-400 dark:text-gray-400"
            data-pagefind-ignore>Senior Software Engineer</span
          >
        </div>
        <div
          class="prose-sm mx-4 mb-4 text-gray-600 dark:text-gray-300 leading-8"
          data-pagefind-ignore
        >
          <p>
            I'm a Software Engineer with <strong>15+ years</strong> of experience
            and a deep love for clean code, clever architecture, and CSS that doesn't
            fight back. I specialize in <strong>React + TypeScript</strong>, but
            I've wrestled plenty of backends tooâ€”<strong>Node, PHP</strong>, you
            name it. I see software as a handmade craft, and I treat every
            project like it deserves its own love letter (and linter config).
          </p>
        </div>
        <div class="flex flex-col gap-4 grow">
          <!-- <Search /> -->
          <div class="mx-4">
            <Search
              id="search"
              className="pagefind-ui"
              uiOptions={{ showImages: false }}
            />
          </div>
          <slot name="sidebar" />
        </div>
        <div class="mb-16">
          <nav
            class="flex-col gap-4 items-end text-xl tracking-widest [&>a]:text-gray-800 [&>a]:dark:text-gray-200 [&>a]:hover:text-rose-500 transition-colors hidden lg:flex"
          >
            <a href="/" class={"pb-2 " + (pathname === "/" ? "border-b-2" : "")}
              >Blog <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="size-6 inline-block"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"
                ></path>
              </svg>
            </a>
            <a
              href="/projects"
              class={"pb-2 " + (pathname === "/projects" ? "border-b-2" : "")}
              >Projects <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="size-6 inline-block"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M14.25 9.75 16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z"
                ></path>
              </svg>
            </a>
            <a
              href="/contact"
              class={"pb-2 " + (pathname === "/contact" ? "border-b-2" : "")}
              >Contact <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="size-6 inline-block"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"
                ></path>
              </svg>
            </a>
          </nav>
          <div class="justify-end mt-8 hidden lg:flex">
            <DarkMode />
          </div>
        </div>
      </div>
      <div class="w-full xl:w-3/4 h-auto lg:h-screen overflow-y-auto">
        <slot />
      </div>
    </div>
    <nav
      class="fixed lg:hidden bottom-0 left-0 w-full bg-gray-100 dark:bg-gray-950 text-gray-950 dark:text-gray-50 p-4 border-t-2 border-gray-300"
    >
      <div class="flex flex-row justify-center">
        <a href="/" class="flex flex-col items-center px-4">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-6 inline-block"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"
            ></path>
          </svg>
          Blog
        </a>
        <a href="/projects" class="flex flex-col items-center px-4">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-6 inline-block"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M14.25 9.75 16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z"
            ></path>
          </svg>
          Projects
        </a>
        <a href="/contact" class="flex flex-col items-center px-4">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-6 inline-block"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"
            ></path>
          </svg>
          Contact
        </a>
        <div class="px-4">
          <DarkMode />
        </div>
      </div>
    </nav>
  </body>
</html>
