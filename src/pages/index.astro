---
import { getCollection } from "astro:content";
import PostCard from "../components/PostCard.astro";
import Layout from "../layouts/Layout.astro";
import { getTags } from "../utils/tags";

const posts = await getCollection("blog");
posts.sort(
  (a, b) => b.data.publishedAt.getTime() - a.data.publishedAt.getTime()
);

const { tags, tagsCount } = getTags(posts);
---

<Layout title="Alexys Hegmann: Senior Software Engineer" isHome>
  <div
    class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 min-[2440px]:grid-cols-4! lg:grid-flow-row gap-4 auto-rows-fr mb-24"
    data-pagefind-body
  >
    {
      posts.map((post) => (
        <PostCard post={post} />
      ))
    }
  </div>

</Layout>
